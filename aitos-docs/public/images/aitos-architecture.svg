<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <style>
    text { font-family: Arial, sans-serif; }
    .title { font-size: 24px; font-weight: bold; }
    .subtitle { font-size: 16px; }
    .component { font-size: 14px; font-weight: bold; }
    .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
    .group { fill: #f0f0f0; stroke: #ccc; stroke-width: 1; }
    .module { fill: #c8e6c9; stroke: #81c784; stroke-width: 1; }
    .core { fill: #bbdefb; stroke: #64b5f6; stroke-width: 1; }
    .event { fill: #ffecb3; stroke: #ffd54f; stroke-width: 1; }
    .task { fill: #e1bee7; stroke: #ba68c8; stroke-width: 1; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <rect x="50" y="50" width="700" height="500" rx="10" ry="10" class="group" />
  <text x="400" y="30" text-anchor="middle" class="title">AITOS Framework Architecture</text>

  <!-- Agent -->
  <rect x="100" y="80" width="600" height="400" rx="5" ry="5" fill="#f5f5f5" stroke="#333" stroke-width="1" />
  <text x="400" y="110" text-anchor="middle" class="subtitle">Agent</text>

  <!-- Core Components -->
  <rect x="150" y="140" width="240" height="180" rx="5" ry="5" class="core" />
  <text x="270" y="160" text-anchor="middle" class="component">Core Components</text>
  
  <!-- Individual core components -->
  <rect x="170" y="180" width="90" height="40" rx="5" ry="5" fill="#90caf9" stroke="#333" stroke-width="1" />
  <text x="215" y="205" text-anchor="middle" font-size="12">Sensing</text>
  
  <rect x="280" y="180" width="90" height="40" rx="5" ry="5" fill="#90caf9" stroke="#333" stroke-width="1" />
  <text x="325" y="205" text-anchor="middle" font-size="12">TaskManager</text>
  
  <rect x="170" y="240" width="90" height="40" rx="5" ry="5" fill="#90caf9" stroke="#333" stroke-width="1" />
  <text x="215" y="265" text-anchor="middle" font-size="12">Thinking</text>
  
  <rect x="280" y="240" width="90" height="40" rx="5" ry="5" fill="#90caf9" stroke="#333" stroke-width="1" />
  <text x="325" y="265" text-anchor="middle" font-size="12">State</text>

  <!-- Modules -->
  <rect x="430" y="140" width="240" height="180" rx="5" ry="5" class="module" />
  <text x="550" y="160" text-anchor="middle" class="component">Modules</text>
  
  <!-- Individual modules -->
  <rect x="450" y="180" width="90" height="40" rx="5" ry="5" fill="#a5d6a7" stroke="#333" stroke-width="1" />
  <text x="495" y="205" text-anchor="middle" font-size="12">Module A</text>
  
  <rect x="560" y="180" width="90" height="40" rx="5" ry="5" fill="#a5d6a7" stroke="#333" stroke-width="1" />
  <text x="605" y="205" text-anchor="middle" font-size="12">Module B</text>
  
  <rect x="450" y="240" width="90" height="40" rx="5" ry="5" fill="#a5d6a7" stroke="#333" stroke-width="1" />
  <text x="495" y="265" text-anchor="middle" font-size="12">Module C</text>
  
  <rect x="560" y="240" width="90" height="40" rx="5" ry="5" fill="#a5d6a7" stroke="#333" stroke-width="1" />
  <text x="605" y="265" text-anchor="middle" font-size="12">Module D</text>

  <!-- Event-Task Flow -->
  <rect x="150" y="350" width="520" height="100" rx="5" ry="5" fill="#f8f8f8" stroke="#333" stroke-width="1" />
  <text x="410" y="370" text-anchor="middle" class="component">Event-Task Flow</text>
  
  <!-- Events and Tasks -->
  <rect x="170" y="390" width="80" height="40" rx="5" ry="5" class="event" />
  <text x="210" y="415" text-anchor="middle" font-size="12">Event</text>
  
  <line x1="250" y1="410" x2="290" y2="410" class="arrow" />
  
  <rect x="290" y="390" width="80" height="40" rx="5" ry="5" class="task" />
  <text x="330" y="415" text-anchor="middle" font-size="12">Task</text>
  
  <line x1="370" y1="410" x2="410" y2="410" class="arrow" />
  
  <rect x="410" y="390" width="80" height="40" rx="5" ry="5" fill="#ffe0b2" stroke="#333" stroke-width="1" />
  <text x="450" y="415" text-anchor="middle" font-size="12">Execution</text>
  
  <line x1="490" y1="410" x2="530" y2="410" class="arrow" />
  
  <rect x="530" y="390" width="80" height="40" rx="5" ry="5" class="event" />
  <text x="570" y="415" text-anchor="middle" font-size="12">New Event</text>

  <!-- Group Sensing -->
  <rect x="100" y="510" width="600" height="60" rx="5" ry="5" fill="#fff9c4" stroke="#ffee58" stroke-width="2" />
  <text x="400" y="545" text-anchor="middle" class="component">Group Sensing (Multi-Agent Communication)</text>

  <!-- Connecting arrows -->
  <line x1="215" y1="220" x2="215" y2="390" stroke-dasharray="5,5" class="arrow" />
  <line x1="570" y1="280" x2="570" y2="390" stroke-dasharray="5,5" class="arrow" />
  <line x1="400" y1="450" x2="400" y2="510" stroke-dasharray="5,5" class="arrow" />
</svg>
